{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      fileList: []\n    };\n  },\n  async mounted() {\n    const response = await axios.get('/hadoop/listfile/'); // 请替换为你的后端接口\n    this.fileList = response.data;\n  },\n  methods: {\n    async download(filePath) {\n      const response = await axios.post('/hadoop/downloadfile/', {\n        HdfsFilePath: filePath,\n        loaclFilePath: 'C:\\\\Users\\\\20624\\\\Desktop\\\\' // 你的本地路径\n      });\n\n      alert(response.data.message);\n    },\n    async deleteFile(filePath) {\n      const response = await axios.delete('/hadoop/delfile/', {\n        data: {\n          filePath: filePath\n        }\n      });\n      alert(response.data.message);\n      if (response.data.message === \"删除成功\") {\n        this.fileList = this.fileList.filter(file => file.filePath !== filePath);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","fileList","mounted","response","get","methods","download","filePath","post","HdfsFilePath","loaclFilePath","alert","message","deleteFile","delete","filter","file"],"sources":["F:\\hadoop\\hadoopExamnationProjects\\web\\src\\views\\pk\\PkindexView.vue"],"sourcesContent":["<template>\r\n    <div class=\"display\">\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>文件名</th>\r\n          <th>大小</th>\r\n          <th>副本数量</th>\r\n          <th>上次修改时间</th>\r\n          <th>操作</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"file in fileList\" :key=\"file.filePath\">\r\n          <td>{{ file.fileName }}</td>\r\n          <td>{{ file.fileSize }}</td>\r\n          <td>{{ file.numReplicas }}</td>\r\n          <td>{{ file.lastModifiedTime }}</td>\r\n          <td>\r\n            <button @click=\"download(file.filePath)\">下载</button>\r\n            <button @click=\"deleteFile(file.filePath)\">删除</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      fileList: []\r\n    }\r\n  },\r\n  async mounted() {\r\n    const response = await axios.get('/hadoop/listfile/') // 请替换为你的后端接口\r\n    this.fileList = response.data\r\n  },\r\n  methods: {\r\n    async download(filePath) {\r\n      const response = await axios.post('/hadoop/downloadfile/', {\r\n        HdfsFilePath: filePath,\r\n        loaclFilePath: 'C:\\\\Users\\\\20624\\\\Desktop\\\\' // 你的本地路径\r\n      })\r\n      alert(response.data.message)\r\n    },\r\n    async deleteFile(filePath) {\r\n      const response = await axios.delete('/hadoop/delfile/', { data: { filePath: filePath } })\r\n      alert(response.data.message)\r\n      if (response.data.message === \"删除成功\") {\r\n        this.fileList = this.fileList.filter(file => file.filePath !== filePath)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\ndiv.display {\r\n    background-color: rgb(255, 255, 255);\r\n    width: 70vw;\r\n    height: 70vh;\r\n    margin: 40px auto;\r\n}\r\n</style>"],"mappings":"AA6BA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,QAAO,GAAI,MAAMJ,KAAK,CAACK,GAAG,CAAC,mBAAmB,GAAE;IACtD,IAAI,CAACH,QAAO,GAAIE,QAAQ,CAACH,IAAG;EAC9B,CAAC;EACDK,OAAO,EAAE;IACP,MAAMC,QAAQA,CAACC,QAAQ,EAAE;MACvB,MAAMJ,QAAO,GAAI,MAAMJ,KAAK,CAACS,IAAI,CAAC,uBAAuB,EAAE;QACzDC,YAAY,EAAEF,QAAQ;QACtBG,aAAa,EAAE,6BAA4B,CAAE;MAC/C,CAAC;;MACDC,KAAK,CAACR,QAAQ,CAACH,IAAI,CAACY,OAAO;IAC7B,CAAC;IACD,MAAMC,UAAUA,CAACN,QAAQ,EAAE;MACzB,MAAMJ,QAAO,GAAI,MAAMJ,KAAK,CAACe,MAAM,CAAC,kBAAkB,EAAE;QAAEd,IAAI,EAAE;UAAEO,QAAQ,EAAEA;QAAS;MAAE,CAAC;MACxFI,KAAK,CAACR,QAAQ,CAACH,IAAI,CAACY,OAAO;MAC3B,IAAIT,QAAQ,CAACH,IAAI,CAACY,OAAM,KAAM,MAAM,EAAE;QACpC,IAAI,CAACX,QAAO,GAAI,IAAI,CAACA,QAAQ,CAACc,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACT,QAAO,KAAMA,QAAQ;MACzE;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}