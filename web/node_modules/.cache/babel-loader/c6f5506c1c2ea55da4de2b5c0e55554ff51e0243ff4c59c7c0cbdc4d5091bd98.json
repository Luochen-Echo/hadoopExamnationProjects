{"ast":null,"code":"import _defineProperty from \"D:/JavaProjects/kob/web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { AcGameObject } from \"./AcGameObject\";\nimport { Cell } from \"./Cell\";\nexport class Snake extends AcGameObject {\n  constructor(info, gamemap) {\n    super();\n    _defineProperty(this, \"next\", void 0);\n    this.id = info.id;\n    this.color = info.color;\n    this.cells = [new Cell(info.r, info.c)]; //存放蛇的身体，cell[0]存放蛇头\n    this.gamemap = gamemap;\n    this.next_cell = null; //下一个要走的格子\n\n    this.speed = 5; //蛇每秒走5个格子\n    this.direction = -1; //蛇的方向，-1表示没有指令，0表示上，1表示右，2表示下，3表示左\n    this.status = \"idle\"; //蛇的状态，idle表示静止，move表示移动中，die表示死亡\n  }\n\n  start() {}\n  update_move() {\n    // this.cells[0].x += this.speed * this.timedelta / 1000;\n  }\n  update() {\n    this.update_move();\n    this.render();\n  }\n  render() {\n    const L = this.gamemap.L;\n    const ctx = this.gamemap.ctx;\n    ctx.fillStyle = this.color;\n    for (const cell of this.cells) {\n      ctx.beginPath();\n      ctx.arc(cell.x * L, cell.y * L, L / 2, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  }\n}","map":{"version":3,"names":["AcGameObject","Cell","Snake","constructor","info","gamemap","_defineProperty","id","color","cells","r","c","next_cell","speed","direction","status","start","update_move","update","render","L","ctx","fillStyle","cell","beginPath","arc","x","y","Math","PI","fill"],"sources":["D:/JavaProjects/kob/web/src/assets/scripts/Snake.js"],"sourcesContent":["import { AcGameObject } from \"./AcGameObject\";\r\nimport { Cell } from \"./Cell\";\r\n\r\nexport class Snake extends AcGameObject {\r\n    constructor(info, gamemap) {\r\n        super();\r\n\r\n        this.id = info.id;\r\n        this.color = info.color;\r\n        this.cells = [new Cell(info.r, info.c)]; //存放蛇的身体，cell[0]存放蛇头\r\n        this.gamemap = gamemap;\r\n\r\n        this.next_cell = null; //下一个要走的格子\r\n\r\n        this.speed = 5; //蛇每秒走5个格子\r\n        this.direction = -1; //蛇的方向，-1表示没有指令，0表示上，1表示右，2表示下，3表示左\r\n        this.status = \"idle\"; //蛇的状态，idle表示静止，move表示移动中，die表示死亡\r\n    }\r\n\r\n    start() { \r\n\r\n    }\r\n\r\n    next\r\n\r\n    update_move() {\r\n        // this.cells[0].x += this.speed * this.timedelta / 1000;\r\n         \r\n    }\r\n\r\n    update() {\r\n        this.update_move();\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        const L = this.gamemap.L;\r\n        const ctx = this.gamemap.ctx;\r\n\r\n        ctx.fillStyle = this.color;\r\n        for (const cell of this.cells) {\r\n            ctx.beginPath();\r\n            ctx.arc(cell.x * L, cell.y * L, L / 2, 0, 2 * Math.PI);\r\n            ctx.fill();\r\n        }\r\n    }\r\n }"],"mappings":";AAAA,SAASA,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,IAAI,QAAQ,QAAQ;AAE7B,OAAO,MAAMC,KAAK,SAASF,YAAY,CAAC;EACpCG,WAAWA,CAACC,IAAI,EAAEC,OAAO,EAAE;IACvB,KAAK,CAAC,CAAC;IAACC,eAAA;IAER,IAAI,CAACC,EAAE,GAAGH,IAAI,CAACG,EAAE;IACjB,IAAI,CAACC,KAAK,GAAGJ,IAAI,CAACI,KAAK;IACvB,IAAI,CAACC,KAAK,GAAG,CAAC,IAAIR,IAAI,CAACG,IAAI,CAACM,CAAC,EAAEN,IAAI,CAACO,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,IAAI,CAACN,OAAO,GAAGA,OAAO;IAEtB,IAAI,CAACO,SAAS,GAAG,IAAI,CAAC,CAAC;;IAEvB,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAAC;IAChB,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,IAAI,CAACC,MAAM,GAAG,MAAM,CAAC,CAAC;EAC1B;;EAEAC,KAAKA,CAAA,EAAG,CAER;EAIAC,WAAWA,CAAA,EAAG;IACV;EAAA;EAIJC,MAAMA,CAAA,EAAG;IACL,IAAI,CAACD,WAAW,CAAC,CAAC;IAClB,IAAI,CAACE,MAAM,CAAC,CAAC;EACjB;EAEAA,MAAMA,CAAA,EAAG;IACL,MAAMC,CAAC,GAAG,IAAI,CAACf,OAAO,CAACe,CAAC;IACxB,MAAMC,GAAG,GAAG,IAAI,CAAChB,OAAO,CAACgB,GAAG;IAE5BA,GAAG,CAACC,SAAS,GAAG,IAAI,CAACd,KAAK;IAC1B,KAAK,MAAMe,IAAI,IAAI,IAAI,CAACd,KAAK,EAAE;MAC3BY,GAAG,CAACG,SAAS,CAAC,CAAC;MACfH,GAAG,CAACI,GAAG,CAACF,IAAI,CAACG,CAAC,GAAGN,CAAC,EAAEG,IAAI,CAACI,CAAC,GAAGP,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGQ,IAAI,CAACC,EAAE,CAAC;MACtDR,GAAG,CAACS,IAAI,CAAC,CAAC;IACd;EACJ;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}