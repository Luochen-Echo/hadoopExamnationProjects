{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst AC_GAME_OBJECT = [];\nexport class AcGameObject {\n  constructor() {\n    AC_GAME_OBJECT.push(this);\n    this.timedelta = 0;\n    this.has_called_start = false;\n  }\n  start() {//只执行一次\n  }\n  update() {//每帧执行，除了第一帧之外\n  }\n  on_destory() {//删除之前执行\n  }\n  destory() {\n    this.on_destory();\n    for (let i in AC_GAME_OBJECT) {\n      const obj = AC_GAME_OBJECT[i];\n      if (obj === this) {\n        AC_GAME_OBJECT.splice(i);\n        break;\n      }\n    }\n  }\n}\nlet last_timestamp;\nconst step = timestamp => {\n  for (let obj of AC_GAME_OBJECT) {\n    if (!obj.has_called_start) {\n      obj.start();\n      obj.has_called_start = true;\n    } else {\n      obj.timedelta = timestamp - last_timestamp;\n      obj.update();\n    }\n  }\n  last_timestamp = timestamp;\n  requestAnimationFrame(step);\n};\nrequestAnimationFrame(step);","map":{"version":3,"names":["AC_GAME_OBJECT","AcGameObject","constructor","push","timedelta","has_called_start","start","update","on_destory","destory","i","obj","splice","last_timestamp","step","timestamp","requestAnimationFrame"],"sources":["D:/JavaProjects/kob/web/src/assets/scripts/AcGameObject.js"],"sourcesContent":[" const AC_GAME_OBJECT = [];\r\n\r\n export class AcGameObject {\r\n    constructor() {\r\n        AC_GAME_OBJECT.push(this);\r\n        this.timedelta = 0;\r\n        this.has_called_start = false;\r\n    }\r\n\r\n    start() { //只执行一次\r\n\r\n    }\r\n\r\n    update() { //每帧执行，除了第一帧之外\r\n    }\r\n\r\n    on_destory() {//删除之前执行\r\n\r\n    }\r\n\r\n    destory() {\r\n        this.on_destory();\r\n\r\n        for (let i  in AC_GAME_OBJECT) {\r\n            const obj = AC_GAME_OBJECT[i];\r\n            if (obj === this) {\r\n                AC_GAME_OBJECT.splice(i);\r\n                break;\r\n            }   \r\n        }\r\n    }\r\n }\r\nlet last_timestamp;\r\n\r\n const step = timestamp => {\r\n    for (let obj of AC_GAME_OBJECT) {\r\n        if (!obj.has_called_start) {\r\n            obj.start();\r\n            obj.has_called_start = true;\r\n        } else {\r\n            obj.timedelta = timestamp - last_timestamp;\r\n            obj.update();\r\n        }\r\n    }\r\n    last_timestamp = timestamp;\r\n    requestAnimationFrame(step);\r\n }\r\n\r\n requestAnimationFrame(step);"],"mappings":";AAAC,MAAMA,cAAc,GAAG,EAAE;AAEzB,OAAO,MAAMC,YAAY,CAAC;EACvBC,WAAWA,CAAA,EAAG;IACVF,cAAc,CAACG,IAAI,CAAC,IAAI,CAAC;IACzB,IAAI,CAACC,SAAS,GAAG,CAAC;IAClB,IAAI,CAACC,gBAAgB,GAAG,KAAK;EACjC;EAEAC,KAAKA,CAAA,EAAG,CAAE;EAAA;EAIVC,MAAMA,CAAA,EAAG,CAAE;EAAA;EAGXC,UAAUA,CAAA,EAAG,CAAC;EAAA;EAIdC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACD,UAAU,CAAC,CAAC;IAEjB,KAAK,IAAIE,CAAC,IAAKV,cAAc,EAAE;MAC3B,MAAMW,GAAG,GAAGX,cAAc,CAACU,CAAC,CAAC;MAC7B,IAAIC,GAAG,KAAK,IAAI,EAAE;QACdX,cAAc,CAACY,MAAM,CAACF,CAAC,CAAC;QACxB;MACJ;IACJ;EACJ;AACH;AACD,IAAIG,cAAc;AAEjB,MAAMC,IAAI,GAAGC,SAAS,IAAI;EACvB,KAAK,IAAIJ,GAAG,IAAIX,cAAc,EAAE;IAC5B,IAAI,CAACW,GAAG,CAACN,gBAAgB,EAAE;MACvBM,GAAG,CAACL,KAAK,CAAC,CAAC;MACXK,GAAG,CAACN,gBAAgB,GAAG,IAAI;IAC/B,CAAC,MAAM;MACHM,GAAG,CAACP,SAAS,GAAGW,SAAS,GAAGF,cAAc;MAC1CF,GAAG,CAACJ,MAAM,CAAC,CAAC;IAChB;EACJ;EACAM,cAAc,GAAGE,SAAS;EAC1BC,qBAAqB,CAACF,IAAI,CAAC;AAC9B,CAAC;AAEDE,qBAAqB,CAACF,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}